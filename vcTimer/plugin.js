(()=>{var T=Object.create;var a=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var $=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),b=(t,e)=>{for(var o in e)a(t,o,{get:e[o],enumerable:!0})},c=(t,e,o,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of _(e))!N.call(t,r)&&r!==o&&a(t,r,{get:()=>e[r],enumerable:!(n=S(e,r))||n.enumerable});return t};var s=(t,e,o)=>(o=t!=null?T(h(t)):{},c(e||!t||!t.__esModule?a(o,"default",{value:t,enumerable:!0}):o,t)),v=t=>c(a({},"__esModule",{value:!0}),t);var i=$((R,u)=>{u.exports=shelter.solidWeb});var D={};b(D,{onLoad:()=>w,onUnload:()=>y});var l=s(i()),p=s(i()),d=s(i()),E=(0,l.template)('<div id="vcTimer" style="font-weight: bold"><br></div>',3),{flux:{dispatcher:m},solid:{createSignal:g,onCleanup:O}}=shelter;function x(t){let e=Math.floor(t/36e5),o=Math.floor(t%36e5/6e4),n=Math.floor(t%6e4/1e3);return`${e>0?e.toString().padStart(2,"0")+":":""}${o.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function I(){let t=Date.now(),[e,o]=g(0),n=setInterval(()=>{o(Date.now()-t)},1e3);return O(()=>clearInterval(n)),(()=>{let r=E.cloneNode(!0),C=r.firstChild;return(0,d.insert)(r,()=>x(e()),C),r})()}function f(t){t.state=="RTC_CONNECTED"&&(document.querySelector("#vcTimer")||document.querySelector('[class^="rtcConnectionStatus-"] + a > div').prepend((0,p.createComponent)(I,{})))}function w(){m.subscribe("RTC_CONNECTION_STATE",f)}function y(){m.unsubscribe("RTC_CONNECTION_STATE",f)}return v(D);})();
