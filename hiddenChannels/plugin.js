(function(E,f,l,P){"use strict";function p(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){if(t!=="default"){var h=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,h.get?h:{enumerable:!0,get:function(){return n[t]}})}}),e.default=n,Object.freeze(e)}var a=p(E),d=p(f),r=p(P),N=()=>f.injectCSS('[aria-label$=hidden]>div path[d^=M2][d*="19"],[aria-label$=hidden]>div path[d^=M17][d*="19"]{fill:#ed4245!important}');const c=a.findByProps("h5"),o=a.findByProps("flex","directionColumn","alignCenter"),v=a.findByProps("chat","chatContent"),I=a.findByDisplayName("ChannelTextLimited"),_=a.findByDisplayName("ChannelTextNSFW"),u=a.findByDisplayName("HeaderBar"),T=a.findByDisplayName("ChannelTopic"),$=u.Icon,D=u.Title;var M=({channel:n,guild:e})=>r.createElement("div",{style:{width:"100%",background:"var(--background-primary)"}},r.createElement(u,{className:"fake-headerbar"},r.createElement($,{icon:n.nsfw?_:I}),r.createElement(D,null,n.name),r.createElement(T,{channel:n,guild:e},"lmao")),r.createElement("div",{className:`hidden-notice ${v.content}`,style:{height:"100%"}},r.createElement("div",{className:`${o.flexCenter}`,style:{width:"100%"}},r.createElement("div",{className:`${o.flex} ${o.directionColumn} ${o.alignCenter}`},r.createElement("h2",{className:`${c.h2} ${c.defaultColor}`},"This is a hidden channel."),r.createElement("h5",{className:`${c.h5} ${c.defaultColor}`},"You cannot see the contents of this channel. However, you may see its name and topic.")))));const i={},y=a.findByProps("hasChannel").getChannel,O=a.findByProps("getVoiceStateStats").getChannelId,U=a.findByProps("getGuild").getGuild,R=a.findByDisplayName("RouteWithImpression",!1),C=a.findByProps("getChannelPermissions"),g=a.findByProps("hasUnread"),S=a.findByProps("fetchMessages","sendMessage"),j=a.findByDisplayName("ChannelItem",!1),b=a.findByPrototypes("isManaged"),G=C.can.bind({}),s=n=>{if(typeof n!="object"&&!n?.id)try{n=y(n)}catch{n=null}return!n||[l.ChannelTypes.DM,l.ChannelTypes.GROUP_DM,l.ChannelTypes.GUILD_CATEGORY,l.ChannelTypes.GUILD_STORE,l.ChannelTypes.GUILD_STORE,l.ChannelTypes.GUILD_DIRECTORY].includes(n.type)?!0:n.canBeSeen()};var L=n=>({onLoad(){i.css=N(),i.Channel=()=>{delete b.prototype.isHidden},b.prototype.canBeSeen=function(){return G(l.Permissions.VIEW_CHANNEL,this)},i.can=d.after("can",C,(e,t)=>e[0]==l.Permissions.VIEW_CHANNEL?!0:t),i.Route=d.after("default",R,(e,t)=>{const h=t.props?.computedMatch?.params?.channelId,B=t.props?.computedMatch?.params?.guildId;let m;try{m=y(h)}catch{return t}return!s(m)&&B&&m?.id!=O()&&(t.props.render=()=>M({channel:m,guild:U(B)})),t}),i.channelItem=d.before("default",j,e=>(s(e[0].channel)||(e[0]["aria-label"]+=" hidden"),e)),i.hasUnread=d.before("hasUnread",g,e=>(s(e[0])||(e[0]=""),e)),i.hasUnreadPins=d.before("hasUnreadPins",g,e=>s(e[0])?e:["unread"]),i.fetchMessages=d.instead("fetchMessages",S,(e,t)=>{if(s(e[0].channelId))return t(...e)})},onUnload(){for(let e of Object.values(i))e()}});return L})(cumcord.modules.webpack,cumcord.patcher,cumcord.modules.common.constants,cumcord.modules.common.React);
