.uploadModal {
   width: 680px;
   max-height: 80vh;
   user-select: none;

   & > [class*="body"] {
      overflow-y: hidden;
   }

   & > div > h2 {
      width: 100%;
   }
}

.headerContent {
   display: flex;
   align-items: center;
   gap: 16px;
   flex: 1;
   justify-content: space-between;
}

.headerProgress {
   display: flex;
   align-items: center;
   gap: 8px;
   padding: 4px 12px;
   background: var(--input-background-default);
   border: 1px solid var(--input-border-default);
   border-radius: 12px;
   font-size: 12px;
}

.headerProgressText {
   color: var(--text-muted);
   font-weight: 500;
   min-width: 32px;
}

.uploadArea {
   border: 2px dashed var(--input-border-default);
   border-radius: 12px;
   padding: 32px 20px;
   text-align: center;
   cursor: pointer;
   transition: all 0.2s ease;
   background: var(--background-base-low);

   &:hover,
   &.dragOver {
      border-color: var(--brand-500);
      background: var(--brand-15a);

      &:hover svg {
         color: var(--interactive-text-active) !important;
      }
   }
}

.uploadArea.uploading {
   pointer-events: none;
   opacity: 0.6;
}

.uploadAreaContent {
   display: flex;
   flex-direction: column;
   align-items: center;
   gap: 12px;
}

.uploadsSection {
   margin-top: 16px;
}

.uploadsSectionHeader {
   display: flex;
   justify-content: space-between;
   align-items: center;
   margin-bottom: 12px;
}

.uploadsList {
   display: flex;
   flex-direction: column;
   gap: 8px;
   max-height: 150px;
   overflow-y: auto;
   padding-right: 8px;
}

.uploadProgressItem {
   display: grid;
   grid-template-columns: 1fr auto;
   grid-template-rows: auto auto;
   gap: 4px 12px;
   padding: 8px 12px;
   background: var(--background-base-low);
   border-radius: 6px;
   align-items: center;
}

.uploadProgressInfo {
   display: flex;
   align-items: center;
   gap: 8px;
   min-width: 0;
}

.uploadProgressName {
   font-size: 13px;
   color: var(--text-normal);
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
}

.uploadProgressSize {
   font-size: 11px;
   color: var(--text-muted);
   flex-shrink: 0;
}

.uploadProgressBarContainer {
   grid-column: 1;
   height: 4px;
   background: var(--background-surface-high);
   border-radius: 2px;
   overflow: hidden;
}

.uploadProgressBar {
   height: 100%;
   border-radius: 2px;
   transition:
      width 0.2s ease,
      background-color 0.2s ease;
}

.uploadProgressStatus {
   grid-column: 2;
   grid-row: 1 / 3;
   display: flex;
   align-items: center;
   gap: 8px;
   font-size: 12px;
   font-weight: 500;
}

.pendingSection {
   margin-top: 16px;
}

.pendingSectionHeader {
   display: flex;
   justify-content: space-between;
   align-items: center;
   margin-bottom: 12px;
}

.previewArea {
   display: grid;
   grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
   gap: 12px;
   max-height: 50vh;
   overflow-y: auto;
   padding-right: 14px;
}

.previewItem,
.dashboardItem {
   position: relative;
   display: flex;
   flex-direction: column;
   background: var(--background-base-lower);
   border: 1px solid var(--border-subtle);
   border-radius: 8px;
   overflow: hidden;
   transition: all 0.2s ease;

   &:hover {
      border-color: var(--brand-500);
      background-color: var(--brand-15a);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
   }

   &.deleting {
      border-color: var(--status-danger);
      background-color: color-mix(in srgb, var(--status-danger) 15%, transparent);
      pointer-events: none;

      &:hover {
         border-color: var(--status-danger);
         background-color: color-mix(in srgb, var(--status-danger) 15%, transparent);
         box-shadow: none;
      }

      .thumbnailContainer {
         filter: saturate(0.5) brightness(0.9);

         .deletingOverlay {
            filter: saturate(2) brightness(1.1);
         }
      }

      .previewItemInfo {
         opacity: 0.7;
      }
   }
}

.dashboardItem {
   cursor: pointer;
}

.thumbnailContainer {
   position: relative;
   width: 100%;
   height: 90px;
   display: flex;
   align-items: center;
   justify-content: center;
   background: var(--background-surface-highest);
   overflow: hidden;
}

.deletingOverlay {
   position: absolute;
   inset: 0;
   display: flex;
   align-items: center;
   justify-content: center;
   background: rgba(237, 66, 69, 0.3);
   z-index: 1;

   .spinner {
      border-color: rgba(237, 66, 69, 0.3);
      border-top-color: var(--status-danger);
      opacity: 1;
   }
}

.previewImage {
   width: 100%;
   height: 100%;
   object-fit: cover;
}

.previewIcon {
   font-size: 36px;
   opacity: 0.8;
}

.thumbnailLoading {
   display: flex;
   align-items: center;
   justify-content: center;
   width: 100%;
   height: 100%;
}

.previewItemInfo {
   padding: 8px;
   flex: 1;
   min-width: 0;
}

.fileName {
   margin: 0;
   font-size: 12px;
   font-weight: 500;
   color: var(--text-normal);
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
}

.fileMeta {
   margin: 2px 0 0 0;
   font-size: 11px;
   color: var(--text-muted);
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
}

.removeButton {
   position: absolute;
   top: 6px;
   right: 6px;
   display: flex;
   align-items: center;
   justify-content: center;
   width: 28px;
   height: 28px;
   background: rgba(0, 0, 0, 0.6);
   backdrop-filter: blur(4px);
   border: none;
   border-radius: 6px;
   color: var(--text-danger);
   cursor: pointer;
   opacity: 0;
   transition: all 0.2s ease;

   .previewItem:hover &,
   .dashboardItem:hover & {
      opacity: 1;
   }

   &:hover {
      background: var(--status-danger);
      color: white;
      transform: scale(1.1);
   }

   &.disabled {
      opacity: 0.5;
      cursor: not-allowed;
      pointer-events: none;
   }
}

.dashboardControls {
   display: flex;
   gap: 12px;
   margin-bottom: 12px;
   flex-wrap: wrap;
   align-items: center;
}

.sortControls {
   display: flex;
   gap: 4px;
}

.sortButton {
   display: flex;
   align-items: center;
   gap: 4px;
   padding: 6px 12px;
   font-size: 14px;
   font-weight: 500;
   border-radius: 4px;
   cursor: pointer;
   background: var(--control-secondary-background-default);
   color: var(--control-secondary-text-default);
   border: 1px solid var(--control-secondary-border-default);

   &:hover {
      background: var(--control-secondary-background-hover);
      color: var(--control-secondary-text-hover);
      border-color: var(--control-secondary-border-hover);
   }

   &:active {
      background: var(--control-secondary-background-active);
      color: var(--control-secondary-text-active);
      border-color: var(--control-secondary-border-active);
   }
}

.sortButtonActive {
   background: var(--control-primary-background-default);
   color: var(--control-primary-text-default);
   border-color: var(--control-primary-border-default);

   &:hover {
      background: var(--control-primary-background-hover);
      color: var(--control-primary-text-hover);
      border-color: var(--control-primary-border-hover);
   }

   &:active {
      background: var(--control-primary-background-active);
      color: var(--control-primary-text-active);
      border-color: var(--control-primary-border-active);
   }
}

.statsBar {
   display: flex;
   justify-content: space-between;
   padding: 8px 0;
   margin-top: 12px;
   color: var(--text-muted);
}

.loadingContainer {
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   padding: 48px;
   gap: 12px;
   color: var(--text-muted);
}

.spinner {
   width: 24px;
   height: 24px;
   border: 2px solid var(--border-subtle);
   border-top-color: var(--brand-500);
   border-radius: 50%;
   animation: spin 0.8s linear infinite;
}

@keyframes spin {
   to {
      transform: rotate(360deg);
   }
}

// Empty state
.emptyState {
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   padding: 48px;
   color: var(--text-muted);
   text-align: center;
}

.footer {
   display: flex;
   justify-content: flex-end;
   gap: 8px;
}

.dashboardButton {
   margin-right: auto;
}

.replacedButton {
   display: flex;
   align-items: center;
   justify-content: center;
   background: transparent;
   border: none;
   color: var(--interactive-text-default);
   padding: 4px;
   border-radius: 4px;
   cursor: pointer;
   transition: all 0.15s ease;

   &:hover {
      color: var(--interactive-text-hover);
      transform: scale(1.1);
   }
}
