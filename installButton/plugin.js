(()=>{var q=Object.create;var c=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),V=(t,e)=>{for(var n in e)c(t,n,{get:e[n],enumerable:!0})},I=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of D(e))!R.call(t,o)&&o!==n&&c(t,o,{get:()=>e[o],enumerable:!(i=B(e,o))||i.enumerable});return t};var l=(t,e,n)=>(n=t!=null?q(M(t)):{},I(e||!t||!t.__esModule?c(n,"default",{value:t,enumerable:!0}):n,t)),F=t=>I(c({},"__esModule",{value:!0}),t);var s=T((nt,z)=>{z.exports=shelter.solidWeb});var tt={};V(tt,{onLoad:()=>Y,onUnload:()=>Z});var W=l(s()),P=l(s()),N=l(s()),A=l(s()),d=l(s()),E=l(s()),ot=l(s()),u=l(s());var S="._card_nwtbe_1{background-color:var(--background-primary);border-radius:4px;box-shadow:0 2px 10px 0 rgba(0,0,0,.2);display:flex;flex-direction:column;margin:10px 0;padding:10px;max-width:500px}._title_nwtbe_1{font-size:16px;font-weight:800}._description_nwtbe_1{font-size:14px;margin-top:5px}._author_nwtbe_1{font-size:12px;margin-top:5px}._buttons_nwtbe_1{display:flex;margin-top:10px}._button_nwtbe_1{background-color:var(--brand-experiment);border-radius:4px;border:none;color:var(--text-normal);cursor:pointer;font-size:12px;font-weight:600;margin-right:5px;padding:5px 10px}._button_nwtbe_1:hover{background-color:var(--brand-experiment-560);transition:background-color .2s ease}._buttonInstalled_nwtbe_1{background-color:var(--background-secondary);border-radius:4px;border:none;color:var(--text-normal);cursor:pointer;font-size:12px;font-weight:600;margin-right:5px;padding:5px 10px}",a={card:"_card_nwtbe_1",title:"_title_nwtbe_1",description:"_description_nwtbe_1",author:"_author_nwtbe_1",buttons:"_buttons_nwtbe_1",button:"_button_nwtbe_1",buttonInstalled:"_buttonInstalled_nwtbe_1"};var G=(0,W.template)('<div><div></div><div></div><div>By <b></b></div><div><button></button><a target="_blank"><button>View</button></a></div></div>',18),{observeDom:H,plugins:v,solid:st,ui:{injectCss:J,showToast:K}}=shelter,b=[],Q=["https://yellowsink.github.io/shelter-plugins/","https://shelter.xirreal.dev","https://ioj4.github.io/shelter-plugins/","https://redstonekasi.github.io/shelter-plugins/","https://beefers.github.io/furniture/"];function X(t){let e=t.url.replace("https://","").replace("http://",""),n=()=>v.installedPlugins().hasOwnProperty(e);return(()=>{let i=G.cloneNode(!0),o=i.firstChild,p=o.nextSibling,h=p.nextSibling,L=h.firstChild,O=L.nextSibling,f=h.nextSibling,_=f.firstChild,m=_.nextSibling,U=m.firstChild;return(0,u.insert)(o,()=>t.json.name),(0,u.insert)(p,()=>t.json.description),(0,u.insert)(O,()=>t.json.author),_.$$click=async()=>{n()||(await v.addRemotePlugin(e,t.url),v.startPlugin(e),K({title:t.json.name,content:"has been installed and started."}))},(0,u.insert)(_,()=>n()?"Installed":"Install"),(0,E.effect)(r=>{let g=a.card,x=a.title,$=a.description,w=a.author,k=a.buttons,j=n()?a.buttonInstalled:a.button,y=t.url,C=a.button;return g!==r._v$&&(0,d.className)(i,r._v$=g),x!==r._v$2&&(0,d.className)(o,r._v$2=x),$!==r._v$3&&(0,d.className)(p,r._v$3=$),w!==r._v$4&&(0,d.className)(h,r._v$4=w),k!==r._v$5&&(0,d.className)(f,r._v$5=k),j!==r._v$6&&(0,d.className)(_,r._v$6=j),y!==r._v$7&&(0,A.setAttribute)(m,"href",r._v$7=y),C!==r._v$8&&(0,d.className)(U,r._v$8=C),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),i})()}function Y(){b.push(J(S)),b.push(H("[class*=messageContent-] [class^=anchor-]",t=>{queueMicrotask(async()=>{let e=t.href.endsWith("/")?t.href:t.href+"/";if(e.endsWith("plugin.json/")&&(e=e.slice(0,-12)),!!Q.some(n=>e.startsWith(n)))try{let n=await fetch(e+"plugin.json");if(!n.ok)return;let i=await n.json(),o=(0,N.createComponent)(X,{get json(){return{name:i.name,description:i.description,author:i.author}},url:e});t.replaceWith(o)}catch(n){console.error(n)}})}))}function Z(){for(let t of Object.values(b))t();b=[]}(0,P.delegateEvents)(["click"]);return F(tt);})();
